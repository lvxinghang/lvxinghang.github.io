---
title: 广播机制和数据存储方案
author: 阿航
date: 2020-10-24 13:51:00 +0800
categories: [第一行代码Android,Android]
tags: android开发

---



**标准广播**

>广播发出后，所以广播接收器几乎会在同一时刻接收到这条广播消息。

**有序广播**

>广播发出后，同一时刻只会有一个广播接收器能够收到这条广播消息，当该广播接收器中的逻辑执行完毕后广播才会继续传递。
>
>*****



**持久化存储技术**

>1. 文件存储
>
>   * 直接通过`java`流的方式将数据原封不动的保存到文件中，比较适合简单的文本数据或者二进制数据。
>
>   * ```java
>     FileOutputStream out = openFileOutput("data", Context.MODE_PRIVATE);
>     ```
>
>   * 第一个参数"data"为文件名，不能包含路径。
>
>   * 第二个参数为文件的操作模式
>
>     >1. `MODE_PRIVATE`
>     >
>     >   当文件名重名时，写入内容覆盖原文件中的内容。
>     >
>     >2. `MODE_APPEND`
>     >
>     >   若文件存在就往文件里追加内容，不存在则创建新文件。
>     >
>     >****

>2. `SharedPreference`存储
>  * 使用键值对的方式存储数据
>
>  * 得到`SharedPreferences`对象的3种方法
>
>    >1. Context类中的`getSharedPreferences()`方法
>    >
>    >   * 该方法接收两个参数，第一个参数用于指定`SharedPreferences`文件的名称，第二个参数用于指定操作模式，目前只有MODE_PRIVATE这一种模式。
>    >
>    >2. Activity类中的`getPreferences()`方法
>    >
>    >   * 与上面方法相似，不过它只接受一个操作模式参数。
>    >
>    >3. `PreferenceManager`类中的`getDefaultSharedPreferences()`方法
>    >
>    >   * 存储数据主要分为3步实现
>    >
>    >   * ```java
>    >     SharedPreferences.Editor editor = getSharedPreferences("data", MODE_PRIVATE).edit();
>    >     editor.putString("name", "Tom");
>    >     editor.apply();
>    >     ```
>    >
>    >   * 读取数据: 
>    >
>    >   * ```java
>    >     SharedPreferences pref = getSharedPreferences("data", MODE_PRIVATE);
>    >     String name = pref.getString("name", ""); //第二个参数为默认值，当传入的键找不到对应的值时返回该值
>    >     ```
>    >
>    >***
>
>3. `LitePal`操作数据库
>
>   >1. 使用`LitePal`查询数据
>   >
>   >   * ```java
>   >     List<Book> books = DataSupport.findAll(Book.class);
>   >     ```
>   >
>   >     查询Book表中的所有数据，返回一个Book类型得list集合。
>   >
>   >   * ```java
>   >     List<Book> books = DataSupport.limit(3).find(Book.class);
>   >     ```
>   >
>   >     查询表中得前3行数据。
>

